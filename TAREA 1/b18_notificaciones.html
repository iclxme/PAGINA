<!DOCTYPE html>
<html lang="es">
<head>
    <title>Notificaciones - Helader√≠a Deliciosa</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary sticky-top">
        <div class="container">
            <a class="navbar-brand fw-bold" href="index.html">üç¶ Helader√≠a Deliciosa</a>
        </div>
    </nav>

    <div class="container mt-4">
        <div class="row justify-content-center">
            <div class="col-12 col-md-10 col-lg-8">

                <!-- Header -->
                <div class="row mb-4">
                    <div class="col-12 text-center">
                        <h1 class="display-4 text-primary">Notificaciones</h1>
                        <p class="lead text-muted">Mantente informado sobre tus pedidos</p>
                    </div>
                </div>

                <!-- Notificaci√≥n enviada -->
                <div class="row mb-4">
                    <div class="col-12">
                        <div class="card border shadow-sm">
                            <div class="card-header bg-light fw-semibold text-center">
                                üì§ Notificaci√≥n Enviada
                            </div>
                            <div class="card-body">
                                <div class="row mb-3">
                                    <div class="col-12 text-center">
                                        <h6>üéâ ¬°Tu pedido est√° listo!</h6>
                                        <p class="text-muted">Hemos terminado de preparar tu helado personalizado</p>
                                    </div>
                                </div>
                                <div class="row mb-3">
                                    <div class="col-12 col-md-4 mb-2">
                                        <strong>üìã Pedido:</strong><br>
                                        <span>HD-789123</span>
                                    </div>
                                    <div class="col-12 col-md-4 mb-2">
                                        <strong>‚è∞ Hora:</strong><br>
                                        <span>${new Date().toLocaleTimeString()}</span>
                                    </div>
                                    <div class="col-12 col-md-4 mb-2">
                                        <strong>üì± Estado:</strong><br>
                                        <span class="badge bg-success">Enviado</span>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-12">
                                        <p class="mb-0"><small>üì¨ Enviado por: SMS y Email</small></p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Notificaci√≥n recibida -->
                <div class="row mb-4">
                    <div class="col-12">
                        <div class="card border shadow-sm">
                            <div class="card-header bg-success bg-opacity-25 fw-semibold text-center">
                                üì• Notificaci√≥n Recibida
                            </div>
                            <div class="card-body">
                                <div class="row mb-3">
                                    <div class="col-12 text-center">
                                        <h6>üöö Tu repartidor est√° en camino</h6>
                                        <p class="text-muted">Carlos llegar√° en aproximadamente 15 minutos</p>
                                    </div>
                                </div>
                                <div class="row mb-3">
                                    <div class="col-12 col-md-4 mb-2">
                                        <strong>üë§ Repartidor:</strong><br>
                                        <span>Carlos Mart√≠nez</span>
                                    </div>
                                    <div class="col-12 col-md-4 mb-2">
                                        <strong>‚è∞ Hora:</strong><br>
                                        <span>${new Date(Date.now() - 10*60*1000).toLocaleTimeString()}</span>
                                    </div>
                                    <div class="col-12 col-md-4 mb-2">
                                        <strong>üì± Estado:</strong><br>
                                        <span class="badge bg-info">Recibido</span>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-12">
                                        <p class="mb-0"><small>üìç Ubicaci√≥n actual: A 2.5 km de tu direcci√≥n</small></p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Notificaci√≥n de retraso -->
                <div class="row mb-4">
                    <div class="col-12">
                        <div class="card border shadow-sm">
                            <div class="card-header bg-warning bg-opacity-25 fw-semibold text-center">
                                ‚ö†Ô∏è Notificaci√≥n de Retraso
                            </div>
                            <div class="card-body">
                                <div class="row mb-3">
                                    <div class="col-12 text-center">
                                        <h6>‚è≥ Peque√±o retraso en tu pedido</h6>
                                        <p class="text-muted">Lamentamos el inconveniente, estamos trabajando en tu pedido</p>
                                    </div>
                                </div>
                                <div class="row mb-3">
                                    <div class="col-12 col-md-4 mb-2">
                                        <strong>üìã Pedido:</strong><br>
                                        <span>HD-456789</span>
                                    </div>
                                    <div class="col-12 col-md-4 mb-2">
                                        <strong>‚è∞ Nueva Hora:</strong><br>
                                        <span>${new Date(Date.now() + 30*60*1000).toLocaleTimeString()}</span>
                                    </div>
                                    <div class="col-12 col-md-4 mb-2">
                                        <strong>üì± Estado:</strong><br>
                                        <span class="badge bg-warning">Retraso</span>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-12">
                                        <div class="alert alert-info">
                                            <small>üéÅ <strong>Compensaci√≥n:</strong> Te hemos aplicado un 15% de descuento en tu pr√≥xima compra. C√≥digo: RETRASO15</small>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Configuraci√≥n de notificaciones -->
                <div class="row mb-4">
                    <div class="col-12">
                        <div class="card border-primary">
                            <div class="card-header bg-primary text-white text-center">
                                <h5 class="mb-0">‚öôÔ∏è Configuraci√≥n de Notificaciones</h5>
                            </div>
                            <div class="card-body">
                                <div class="row mb-3">
                                    <div class="col-12">
                                        <div class="form-check mb-2">
                                            <input class="form-check-input" type="checkbox" id="notifSMS" checked>
                                            <label class="form-check-label" for="notifSMS">
                                                üì± Notificaciones por SMS
                                            </label>
                                        </div>
                                        <div class="form-check mb-2">
                                            <input class="form-check-input" type="checkbox" id="notifEmail" checked>
                                            <label class="form-check-label" for="notifEmail">
                                                üìß Notificaciones por Email
                                            </label>
                                        </div>
                                        <div class="form-check mb-2">
                                            <input class="form-check-input" type="checkbox" id="notifPush" checked>
                                            <label class="form-check-label" for="notifPush">
                                                üîî Notificaciones Push
                                            </label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" id="notifPromo">
                                            <label class="form-check-label" for="notifPromo">
                                                üéÅ Notificaciones de Promociones
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-12">
                                        <label class="form-label">üìÖ Frecuencia de Notificaciones:</label>
                                        <select class="form-select" id="notificationFrequency">
                                            <option value="inmediato">Inmediato</option>
                                            <option value="diario" selected>Resumen Diario</option>
                                            <option value="semanal">Resumen Semanal</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Botones de acci√≥n -->
                <div class="row mb-4">
                    <div class="col-12 text-center d-flex flex-wrap justify-content-center gap-3">
                        <button class="btn btn-outline-secondary" onclick="markAllAsRead()">
                            ‚úÖ Marcar Todo como Le√≠do
                        </button>
                        <button class="btn btn-primary" onclick="saveNotificationSettings()">
                            üíæ Guardar Configuraci√≥n
                        </button>
                        <button class="btn btn-success" onclick="testNotification()">
                            üîî Probar Notificaci√≥n
                        </button>
                    </div>
                </div>

                <!-- Mensaje adicional -->
                <div class="row">
                    <div class="col-12 text-center small text-muted">
                        <p>üìû ¬øProblemas con las notificaciones? Contacta a soporte: +56 9 1234 5678</p>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            loadNotificationSettings();
        });

        function loadNotificationSettings() {
            const settings = JSON.parse(localStorage.getItem('notificationSettings')) || {
                sms: true,
                email: true,
                push: true,
                promo: false,
                frequency: 'diario'
            };

            document.getElementById('notifSMS').checked = settings.sms;
            document.getElementById('notifEmail').checked = settings.email;
            document.getElementById('notifPush').checked = settings.push;
            document.getElementById('notifPromo').checked = settings.promo;
            document.getElementById('notificationFrequency').value = settings.frequency;
        }

        function saveNotificationSettings() {
            const settings = {
                sms: document.getElementById('notifSMS').checked,
                email: document.getElementById('notifEmail').checked,
                push: document.getElementById('notifPush').checked,
                promo: document.getElementById('notifPromo').checked,
                frequency: document.getElementById('notificationFrequency').value
            };

            localStorage.setItem('notificationSettings', JSON.stringify(settings));
            alert('‚úÖ Configuraci√≥n de notificaciones guardada correctamente');
        }

        function markAllAsRead() {
            // Simular marcar todas las notificaciones como le√≠das
            document.querySelectorAll('.badge').forEach(badge => {
                if (badge.classList.contains('bg-info')) {
                    badge.classList.remove('bg-info');
                    badge.classList.add('bg-secondary');
                    badge.textContent = 'Le√≠do';
                }
            });
            
            alert('‚úÖ Todas las notificaciones marcadas como le√≠das');
        }

        function testNotification() {
            const settings = JSON.parse(localStorage.getItem('notificationSettings')) || {};
            let message = 'üîî Notificaci√≥n de prueba enviada por:';
            
            if (settings.sms) message += '\nüì± SMS';
            if (settings.email) message += '\nüìß Email';
            if (settings.push) message += '\nüîî Push';
            
            alert(message);
        }

        // Simular notificaciones en tiempo real
        setInterval(() => {
            // 10% de probabilidad de mostrar notificaci√≥n aleatoria
            if (Math.random() < 0.1) {
                showRandomNotification();
            }
        }, 30000); // Cada 30 segundos

        function showRandomNotification() {
            const notifications = [
                {
                    type: 'info',
                    title: 'üë®‚Äçüç≥ Tu pedido est√° en preparaci√≥n',
                    message: 'Mar√≠a est√° preparando tu helado con ingredientes frescos'
                },
                {
                    type: 'success', 
                    title: 'üöö Repartidor asignado',
                    message: 'Carlos Mart√≠nez entregar√° tu pedido en 20 min'
                },
                {
                    type: 'warning',
                    title: '‚è∞ Recordatorio de pedido',
                    message: 'No olvides retirar tu pedido HD-789123'
                }
            ];

            const randomNotif = notifications[Math.floor(Math.random() * notifications.length)];
            
            // Crear notificaci√≥n temporal
            const notificationElement = document.createElement('div');
            notificationElement.className = `alert alert-${randomNotif.type} alert-dismissible fade show`;
            notificationElement.innerHTML = `
                <strong>${randomNotif.title}</strong><br>
                <small>${randomNotif.message}</small>
                <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            `;
            
            // Insertar al inicio de las notificaciones
            const firstCard = document.querySelector('.row.mb-4');
            firstCard.parentNode.insertBefore(notificationElement, firstCard);
            
            // Auto-eliminar despu√©s de 5 segundos
            setTimeout(() => {
                if (notificationElement.parentNode) {
                    notificationElement.remove();
                }
            }, 5000);
        }
    </script>
</body>
</html>